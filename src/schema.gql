# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Group {
  group: GraphGroup!
  hideOthers: Boolean
  labels: [Int!]
}

enum GraphGroup {
  Day
  Month
  Sign
  Labels
  Year
}

type HorizontalGroup {
  group: GraphGroup!
  hideOthers: Boolean
  labels: [Int!]
  accumulate: Boolean
}

type Graph {
  id: Int!
  groupOwnerId: Int!
  name: String!
  kind: GraphKind!
  tagFilter: Float
  dateRange: String!
  group: Group!
  horizontalGroup: HorizontalGroup
}

enum GraphKind {
  Bar
  Line
  Pie
}

type Label {
  id: Float!
  groupOwnerId: Float!
  name: String!
}

type BankTransaction {
  id: Int!
  movementName: String!
  date: DateOnly!
  dateValue: DateOnly
  details: String
  value: Float!
  kind: String!
  description: String
  labelIds: [Int!]!
}

"""Mongo object id scalar type"""
scalar DateOnly

type GetBankTransactionsResponse {
  results: [BankTransaction!]!
  next: String
}

type ImportKind {
  name: String!
  regex: String!
}

type Query {
  """Checks if a user is logged in and returns his profile"""
  me: MyProfileResponse!
  bankTransaction(cursor: String, limit: Int): GetBankTransactionsResponse!
  labels: [Label!]!
  graphs: [Graph!]!
  importKinds: [ImportKind!]!
}

union MyProfileResponse = MyProfile | NotIdentified

type MyProfile {
  email: String!
  firstName: String!
  lastName: String!
  username: String!
}

type NotIdentified {
  identified: Boolean!
}

type Mutation {
  login(credentials: Credentials!): LoginResponse!
  logout: Boolean!
}

union LoginResponse = MyProfile | InvalidCredentials

type InvalidCredentials {
  invalidUserOrPassword: String!
}

input Credentials {
  username: String!
  password: String!
}